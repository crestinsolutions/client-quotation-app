// createCoupons.js

require('dotenv').config();
const mongoose = require('mongoose');
const Coupon = require('./models/Coupon');

// --- List of coupons you want to create ---
const couponsToCreate = [
    { code: 'CJ80E6FI', discountPercentage: 15 },
    { code: '4KC35T48', discountPercentage: 20 },
    { code: 'SH9Q22LW', discountPercentage: 25 },
    { code: 'CALTNSKZ', discountPercentage: 30 },
    { code: 'EZEK4CC2', discountPercentage: 35 },
    { code: 'RT25KGXA', discountPercentage: 40 },
    { code: 'HDBM49W8', discountPercentage: 15 },
    { code: '55NQNBTN', discountPercentage: 20 },
    { code: 'N2P3OYVP', discountPercentage: 25 },
    { code: 'HICO67R3', discountPercentage: 30 },
    { code: 'VLCKRI15', discountPercentage: 35 },
    { code: '94K1370T', discountPercentage: 40 },
    { code: 'NESG3UTP', discountPercentage: 15 },
    { code: 'AIUAC0PD', discountPercentage: 20 },
    { code: 'UT1IJX7R', discountPercentage: 25 },
    { code: '1FDVOSWY', discountPercentage: 30 },
    { code: 'PID28M45', discountPercentage: 35 },
    { code: '917YO9RJ', discountPercentage: 40 },
    { code: '0DSBB6TB', discountPercentage: 15 },
    { code: 'XAQ5LLWB', discountPercentage: 20 },
    { code: '26V29S69', discountPercentage: 25 },
    { code: '54D09O8D', discountPercentage: 30 },
    { code: '1M66OQLQ', discountPercentage: 35 },
    { code: 'C5A2V6O0', discountPercentage: 40 },
    { code: 'WJ3B296H', discountPercentage: 15 },
    { code: 'P5YV280E', discountPercentage: 20 },
    { code: '6WCMFWB7', discountPercentage: 25 },
    { code: '87J7T85E', discountPercentage: 30 },
    { code: 'M62MNCWU', discountPercentage: 35 },
    { code: '1P92H81B', discountPercentage: 40 },
    { code: 'F736F523', discountPercentage: 15 },
    { code: '80E1Y3B0', discountPercentage: 20 },
    { code: '3QG1094E', discountPercentage: 25 },
    { code: '5S17F7C7', discountPercentage: 30 },
    { code: '3K4H6O7V', discountPercentage: 35 },
    { code: 'S3Q2EYV9', discountPercentage: 40 },
    { code: '5VYS7G1I', discountPercentage: 15 },
    { code: '6B3C096D', discountPercentage: 20 },
    { code: 'D5K26I5R', discountPercentage: 25 },
    { code: '56C8M80W', discountPercentage: 30 },
    { code: 'G995MBNR', discountPercentage: 35 },
    { code: '4X11R9XF', discountPercentage: 40 },
    { code: 'TULBVT6Q', discountPercentage: 15 },
    { code: 'D966S50W', discountPercentage: 20 },
    { code: '2O7L2D2E', discountPercentage: 25 },
    { code: '7H5C1S1Q', discountPercentage: 30 },
    { code: 'L7QY7I1E', discountPercentage: 35 },
    { code: '28O57M9J', discountPercentage: 40 },
    { code: 'W29K5A3A', discountPercentage: 15 },
    { code: 'A366S33Q', discountPercentage: 20 },
    { code: '18E8G6J1', discountPercentage: 25 },
    { code: 'S2J18M6M', discountPercentage: 30 },
    { code: 'J5B55S8Q', discountPercentage: 35 },
    { code: 'F8V1O9H7', discountPercentage: 40 },
    { code: 'X6G7E5E6', discountPercentage: 15 },
    { code: 'W9S3J2D6', discountPercentage: 20 },
    { code: 'R4L8T1F4', discountPercentage: 25 },
    { code: 'D4L3A8F8', discountPercentage: 30 },
    { code: 'P9H6M5X7', discountPercentage: 35 },
    { code: 'Y4H9P9K4', discountPercentage: 40 },
    { code: 'H1E9S2O6', discountPercentage: 15 },
    { code: 'C7M4Y3Y5', discountPercentage: 20 },
    { code: 'K2R1R1V9', discountPercentage: 25 },
    { code: 'T5F5V7A6', discountPercentage: 30 },
    { code: 'P9M8L4D3', discountPercentage: 35 },
    { code: 'X1K5V2A2', discountPercentage: 40 },
    { code: 'L8E2Q9M9', discountPercentage: 15 },
    { code: 'V6W8W5P4', discountPercentage: 20 },
    { code: 'M3C9C9X6', discountPercentage: 25 },
    { code: 'X5E8P2T2', discountPercentage: 30 },
    { code: 'A1R5H6G9', discountPercentage: 35 },
    { code: 'A8B4F3N9', discountPercentage: 40 },
    { code: 'X8A7I7S1', discountPercentage: 15 },
    { code: 'P4T3P3E9', discountPercentage: 20 },
    { code: 'E6V9H3U9', discountPercentage: 25 },
    { code: 'B9P6O1M5', discountPercentage: 30 },
    { code: 'L6J2L2B1', discountPercentage: 35 },
    { code: 'C3X8R9D5', discountPercentage: 40 },
    { code: 'O9Y5O5T8', discountPercentage: 15 },
    { code: 'W1W8W1V5', discountPercentage: 20 },
    { code: 'L8R5H8U8', discountPercentage: 25 },
    { code: 'V4P2T8Y1', discountPercentage: 30 },
    { code: 'P1J9S5U4', discountPercentage: 35 },
    { code: 'D7F8S4G2', discountPercentage: 40 },
    { code: 'S6J9B9O9', discountPercentage: 15 },
    { code: 'U3L6A2I5', discountPercentage: 20 },
    { code: 'L5R2W9R2', discountPercentage: 25 },
    { code: 'C9W5K8S8', discountPercentage: 30 },
    { code: 'V2K8W5C1', discountPercentage: 35 },
    { code: 'G5J1S1I9', discountPercentage: 40 },
    { code: 'Y2R9F6L5', discountPercentage: 15 },
    { code: 'Q8C5P3O1', discountPercentage: 20 },
    { code: 'M4U2I9A2', discountPercentage: 25 },
    { code: 'F1Y8X4T8', discountPercentage: 30 },
    { code: 'N7B4O7M4', discountPercentage: 35 },
    { code: 'D9W2K5K2', discountPercentage: 40 },
    { code: 'R6Q9I6L9', discountPercentage: 15 },
    { code: 'Q5B8L2A8', discountPercentage: 20 },
    { code: 'G2Y5M9S5', discountPercentage: 25 },
    { code: 'Y8W5H8F2', discountPercentage: 30 },
    { code: 'P8W2J5C9', discountPercentage: 35 },
    { code: 'V5C5Q2W1', discountPercentage: 40 },
    { code: 'L2I8X8Y8', discountPercentage: 15 },
    { code: 'U9F5E5M2', discountPercentage: 20 },
    { code: 'O6L1V2A8', discountPercentage: 25 },
    { code: 'A3Q8I9S5', discountPercentage: 30 },
    { code: 'S9M5L5W2', discountPercentage: 35 },
    { code: 'N6P2B9P9', discountPercentage: 40 },
    { code: 'T3X9T6C6', discountPercentage: 15 },
    { code: 'G9W6A6D3', discountPercentage: 20 },
    { code: 'C6J3T3Y9', discountPercentage: 25 },
    { code: 'J3P9V9Q6', discountPercentage: 30 },
    { code: 'O0A6K2L3', discountPercentage: 35 },
    { code: 'V7X3Q6O3', discountPercentage: 40 },
    { code: 'F4I1A9B9', discountPercentage: 15 },
    { code: 'A1R8K8H6', discountPercentage: 20 },
    { code: 'M8V5S5Q2', discountPercentage: 25 },
    { code: 'I5B2B2O9', discountPercentage: 30 },
    { code: 'W2Y9R5M5', discountPercentage: 35 },
    { code: 'Q9T6C2M2', discountPercentage: 40 },
    { code: 'X6G3A9V9', discountPercentage: 15 },
    { code: 'Y3L9S9T6', discountPercentage: 20 },
    { code: 'K0S6E2N2', discountPercentage: 25 },
    { code: 'S7N3M9C9', discountPercentage: 30 },
    { code: 'O4G0P6W6', discountPercentage: 35 },
    { code: 'C1T7O3P3', discountPercentage: 40 },
    { code: 'P8B4X1W9', discountPercentage: 15 },
    { code: 'A5V1V8C6', discountPercentage: 20 },
    { code: 'H2I8I5Y2', discountPercentage: 25 },
    { code: 'V9P5N2S9', discountPercentage: 30 },
    { code: 'B6Y2T9L6', discountPercentage: 35 },
    { code: 'I3S9W6P2', discountPercentage: 40 },
    { code: 'T0W6D3X9', discountPercentage: 15 },
    { code: 'G7C3N0X6', discountPercentage: 20 },
    { code: 'M4Q0A7K3', discountPercentage: 25 },
    { code: 'R1K7T4Q0', discountPercentage: 30 },
    { code: 'X8A4Q1R7', discountPercentage: 35 },
    { code: 'E5V1K8O4', discountPercentage: 40 },
    { code: 'L2U8S5L1', discountPercentage: 15 },
    { code: 'S9P5C2Y8', discountPercentage: 20 },
    { code: 'N6L2J9V5', discountPercentage: 25 },
    { code: 'C3I9W6S2', discountPercentage: 30 },
    { code: 'J0W6G3P9', discountPercentage: 35 },
    { code: 'Q7P3N0A6', discountPercentage: 40 },
    { code: 'U4L0K7T3', discountPercentage: 15 },
    { code: 'W1Y7R4R0', discountPercentage: 20 },
    { code: 'Y8E4O1V7', discountPercentage: 25 },
    { code: 'E5A1L8S4', discountPercentage: 30 },
    { code: 'B2S8W5L1', discountPercentage: 35 },
    { code: 'I9V5J2W8', discountPercentage: 40 },
    { code: 'O6B2I9P5', discountPercentage: 15 },
    { code: 'V3S9F6C2', discountPercentage: 20 },
    { code: 'Q0W6A3J9', discountPercentage: 25 },
    { code: 'X7D3R0W6', discountPercentage: 30 },
    { code: 'E4K0E7A3', discountPercentage: 35 },
    { code: 'A1T7L4R0', discountPercentage: 40 },
    { code: 'H8Q4S1V7', discountPercentage: 15 },
    { code: 'O5A1I8S4', discountPercentage: 20 },
    { code: 'B2R8W5L1', discountPercentage: 25 },
    { code: 'I9V5J2W8', discountPercentage: 30 },
    { code: 'P6B2I9P5', discountPercentage: 35 },
    { code: 'W3S9F6C2', discountPercentage: 40 },
    { code: 'T0D6A3J9', discountPercentage: 15 },
    { code: 'G7K3R0W6', discountPercentage: 20 },
    { code: 'M4T0E7A3', discountPercentage: 25 },
    { code: 'R1A7L4R0', discountPercentage: 30 },
    { code: 'X8R4S1V7', discountPercentage: 35 },
    { code: 'E5B1I8S4', discountPercentage: 40 },
    { code: 'L2I8W5L1', discountPercentage: 15 },
    { code: 'S9P5J2W8', discountPercentage: 20 },
    { code: 'N6L2B9P5', discountPercentage: 25 },
    { code: 'C3I9F6C2', discountPercentage: 30 },
    { code: 'J0W6A3J9', discountPercentage: 35 },
    { code: 'Q7P3R0W6', discountPercentage: 40 },
    { code: 'U4K0E7A3', discountPercentage: 15 },
    { code: 'W1Y7L4R0', discountPercentage: 20 },
    { code: 'Y8E4S1V7', discountPercentage: 25 },
    { code: 'E5A1I8S4', discountPercentage: 30 },
    { code: 'B2S8W5L1', discountPercentage: 35 },
    { code: 'I9V5J2W8', discountPercentage: 40 },
    { code: 'O6B2I9P5', discountPercentage: 15 },
    { code: 'V3S9F6C2', discountPercentage: 20 },
    { code: 'T0D6A3J9', discountPercentage: 25 },
    { code: 'G7K3R0W6', discountPercentage: 30 },
    { code: 'M4T0E7A3', discountPercentage: 35 },
    { code: 'R1A7L4R0', discountPercentage: 40 },
    { code: 'X8R4S1V7', discountPercentage: 15 },
    { code: 'E5B1I8S4', discountPercentage: 20 },
    { code: 'L2I8W5L1', discountPercentage: 25 },
    { code: 'S9P5J2W8', discountPercentage: 30 },
    { code: 'N6L2B9P5', discountPercentage: 35 },
    { code: 'C3I9F6C2', discountPercentage: 40 },
    { code: 'J0W6A3J9', discountPercentage: 15 },
    { code: 'Q7P3R0W6', discountPercentage: 20 },
    { code: 'U4K0E7A3', discountPercentage: 25 },
    { code: 'W1Y7L4R0', discountPercentage: 30 },
    { code: 'Y8E4S1V7', discountPercentage: 35 },
    { code: 'E5A1I8S4', discountPercentage: 40 },
    { code: 'B2S8W5L1', discountPercentage: 15 },
    { code: 'I9V5J2W8', discountPercentage: 20 },
    { code: 'O6B2I9P5', discountPercentage: 25 },
    { code: 'V3S9F6C2', discountPercentage: 30 },
    { code: 'T0D6A3J9', discountPercentage: 35 },
    { code: 'G7K3R0W6', discountPercentage: 40 },
    { code: 'M4T0E7A3', discountPercentage: 15 },
    { code: 'R1A7L4R0', discountPercentage: 20 },
    { code: 'X8R4S1V7', discountPercentage: 25 },
    { code: 'E5B1I8S4', discountPercentage: 30 },
    { code: 'L2I8W5L1', discountPercentage: 35 },
    { code: 'S9P5J2W8', discountPercentage: 40 },
    { code: 'N6L2B9P5', discountPercentage: 15 },
    { code: 'C3I9F6C2', discountPercentage: 20 },
    { code: 'J0W6A3J9', discountPercentage: 25 },
    { code: 'Q7P3R0W6', discountPercentage: 30 },
    { code: 'U4K0E7A3', discountPercentage: 35 },
    { code: 'W1Y7L4R0', discountPercentage: 40 },
    { code: 'Y8E4S1V7', discountPercentage: 15 },
    { code: 'E5A1I8S4', discountPercentage: 20 },
    { code: 'B2S8W5L1', discountPercentage: 25 },
    { code: 'I9V5J2W8', discountPercentage: 30 },
    { code: 'O6B2I9P5', discountPercentage: 35 },
    { code: 'V3S9F6C2', discountPercentage: 40 },
    { code: 'T0D6A3J9', discountPercentage: 15 },
    { code: 'G7K3R0W6', discountPercentage: 20 },
    { code: 'M4T0E7A3', discountPercentage: 25 },
    { code: 'R1A7L4R0', discountPercentage: 30 },
    { code: 'X8R4S1V7', discountPercentage: 35 },
    { code: 'E5B1I8S4', discountPercentage: 40 },
    { code: 'L2I8W5L1', discountPercentage: 15 },
    { code: 'S9P5J2W8', discountPercentage: 20 },
    { code: 'N6L2B9P5', discountPercentage: 25 },
    { code: 'C3I9F6C2', discountPercentage: 30 },
    { code: 'J0W6A3J9', discountPercentage: 35 },
    { code: 'Q7P3R0W6', discountPercentage: 40 },
    { code: 'U4K0E7A3', discountPercentage: 15 },
    { code: 'W1Y7L4R0', discountPercentage: 20 },
    { code: 'Y8E4S1V7', discountPercentage: 25 },
    { code: 'E5A1I8S4', discountPercentage: 30 },
    { code: 'B2S8W5L1', discountPercentage: 35 },
    { code: 'I9V5J2W8', discountPercentage: 40 },
    { code: 'O6B2I9P5', discountPercentage: 15 },
    { code: 'V3S9F6C2', discountPercentage: 20 },
    { code: 'T0D6A3J9', discountPercentage: 25 },
    { code: 'G7K3R0W6', discountPercentage: 30 },
    { code: 'M4T0E7A3', discountPercentage: 35 },
    { code: 'R1A7L4R0', discountPercentage: 40 },
    { code: 'X8R4S1V7', discountPercentage: 15 },
    { code: 'E5B1I8S4', discountPercentage: 20 },
    { code: 'L2I8W5L1', discountPercentage: 25 },
    { code: 'S9P5J2W8', discountPercentage: 30 },
    { code: 'N6L2B9P5', discountPercentage: 35 },
    { code: 'C3I9F6C2', discountPercentage: 40 },
    { code: 'J0W6A3J9', discountPercentage: 15 },
    { code: 'Q7P3R0W6', discountPercentage: 20 },
    { code: 'U4K0E7A3', discountPercentage: 25 },
    { code: 'W1Y7L4R0', discountPercentage: 30 },
    { code: 'Y8E4S1V7', discountPercentage: 35 },
    { code: 'E5A1I8S4', discountPercentage: 40 },
    { code: 'B2S8W5L1', discountPercentage: 15 },
    { code: 'I9V5J2W8', discountPercentage: 20 },
    { code: 'O6B2I9P5', discountPercentage: 25 },
    { code: 'V3S9F6C2', discountPercentage: 30 },
    { code: 'T0D6A3J9', discountPercentage: 35 },
    { code: 'G7K3R0W6', discountPercentage: 40 },
    { code: 'M4T0E7A3', discountPercentage: 15 },
    { code: 'R1A7L4R0', discountPercentage: 20 },
    { code: 'X8R4S1V7', discountPercentage: 25 },
    { code: 'E5B1I8S4', discountPercentage: 30 },
    { code: 'L2I8W5L1', discountPercentage: 35 },
    { code: 'S9P5J2W8', discountPercentage: 40 },
    { code: 'N6L2B9P5', discountPercentage: 15 },
    { code: 'C3I9F6C2', discountPercentage: 20 },
    { code: 'J0W6A3J9', discountPercentage: 25 },
    { code: 'Q7P3R0W6', discountPercentage: 30 },
    { code: 'U4K0E7A3', discountPercentage: 35 },
    { code: 'W1Y7L4R0', discountPercentage: 40 },
    { code: 'Y8E4S1V7', discountPercentage: 15 },
    { code: 'E5A1I8S4', discountPercentage: 20 },
    { code: 'B2S8W5L1', discountPercentage: 25 },
    { code: 'I9V5J2W8', discountPercentage: 30 },
    { code: 'O6B2I9P5', discountPercentage: 35 },
    { code: 'V3S9F6C2', discountPercentage: 40 },
    { code: 'T0D6A3J9', discountPercentage: 15 },
    { code: 'G7K3R0W6', discountPercentage: 20 },
    { code: 'M4T0E7A3', discountPercentage: 25 },
    { code: 'R1A7L4R0', discountPercentage: 30 },
    { code: 'X8R4S1V7', discountPercentage: 35 },
    { code: 'E5B1I8S4', discountPercentage: 40 },
    { code: 'L2I8W5L1', discountPercentage: 15 },
    { code: 'S9P5J2W8', discountPercentage: 20 },
    { code: 'N6L2B9P5', discountPercentage: 25 },
    { code: 'C3I9F6C2', discountPercentage: 30 },
    { code: 'J0W6A3J9', discountPercentage: 35 },
    { code: 'Q7P3R0W6', discountPercentage: 40 },
    { code: 'U4K0E7A3', discountPercentage: 15 },
    { code: 'W1Y7L4R0', discountPercentage: 20 },
    { code: 'Y8E4S1V7', discountPercentage: 25 },
    { code: 'E5A1I8S4', discountPercentage: 30 },
    { code: 'B2S8W5L1', discountPercentage: 35 },
    { code: 'I9V5J2W8', discountPercentage: 40 },


    // Add as many coupon codes as you want here
];
// -----------------------------------------

const createCoupons = async () => {
    try {
        await mongoose.connect(process.env.MONGO_URI);
        console.log('MongoDB Connected for coupon creation...');

        // Using insertMany to add all coupons, ignoring duplicates
        const result = await Coupon.insertMany(couponsToCreate, { ordered: false });
        
        console.log(`${result.length} new coupons were successfully created.`);

    } catch (error) {
        // We expect a "duplicate key" error if codes already exist, which is okay.
        if (error.code === 11000) {
            console.log('Some coupons already existed in the database and were skipped.');
            // This checks if any coupons were actually inserted despite the errors
            if (error.result && error.result.nInserted > 0) {
                 console.log(`${error.result.nInserted} new coupons were still created.`);
            }
        } else {
            console.error('An error occurred:', error);
        }
    } finally {
        await mongoose.disconnect();
        console.log('MongoDB Disconnected.');
    }
};

createCoupons();